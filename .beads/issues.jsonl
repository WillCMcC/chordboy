{"id":"chordboy-63m","title":"MIDI race condition: retriggerChord setTimeout not cancelled on rapid calls","description":"retriggerChord uses setTimeout with REARTICULATION_DELAY_MS but has no mechanism to cancel pending timeouts. Multiple rapid calls queue multiple note-on batches that all fire. Fix: Store setTimeout return value in ref and clear at start of retriggerChord.","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-14T11:12:58.801196-08:00","updated_at":"2025-12-14T11:22:42.932712-08:00","closed_at":"2025-12-14T11:22:42.932712-08:00"}
{"id":"chordboy-6ug","title":"MIDI race condition: playChord with humanization causes state desync","description":"When playChord is called rapidly with humanization/strum enabled, the second call clears the first call's pending note-ons via humanizeManager.clear(). This causes currentNotes state to reflect the first chord while actual MIDI output is the second chord. Fix: Add sequence ID tracking to only execute scheduled note-ons if sequence matches.","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-14T11:12:56.163887-08:00","updated_at":"2025-12-14T11:22:42.023623-08:00","closed_at":"2025-12-14T11:22:42.023623-08:00"}
{"id":"chordboy-8g8","title":"BLE reconnect race: No guard prevents connect while disconnect in progress","description":"User can trigger connectBLE() while disconnectBLE() is executing. Rapid connect/disconnect clicks cause refs to be cleared mid-connection, resulting in bleConnected=true but refs=null. Fix: Add guard at start of connectBLE() checking bleConnecting/bleConnected.","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-14T11:13:04.258465-08:00","updated_at":"2025-12-14T11:22:44.584759-08:00","closed_at":"2025-12-14T11:22:44.584759-08:00"}
{"id":"chordboy-92f","title":"Synth voice stealing doesn't cancel release envelope before re-triggering","description":"When voice stealing occurs, triggerRelease() is called then immediately triggerAttack(). But envelopes are still in release phase, causing envelope state corruption and audio glitches. Fix: Call ampEnv.cancel() and filterEnv.cancel() before re-triggering stolen voices.","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-14T11:13:06.791448-08:00","updated_at":"2025-12-14T11:22:45.587649-08:00","closed_at":"2025-12-14T11:22:45.587649-08:00"}
{"id":"chordboy-9st","title":"Test Coverage Review and Gap Filling","description":"Review test coverage for ChordBoy music app and add missing tests. Focus on untested lib modules (strum, humanize, jazzVoicings, storage), untested hooks (useMIDIPlayback, useKeyboard, useCustomPatches, etc.), and complex multi-step workflows (synth FX chains, chord building pipeline, sequencer).","status":"open","priority":1,"issue_type":"epic","created_at":"2025-12-14T11:27:31.887999-08:00","updated_at":"2025-12-14T11:27:31.887999-08:00"}
{"id":"chordboy-9st.1","title":"Add tests for timing/humanization lib modules (strum.ts, humanize.ts)","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-14T11:27:31.958958-08:00","updated_at":"2025-12-14T11:31:23.185394-08:00","closed_at":"2025-12-14T11:31:23.185394-08:00","dependencies":[{"issue_id":"chordboy-9st.1","depends_on_id":"chordboy-9st","type":"parent-child","created_at":"2025-12-14T11:27:31.959393-08:00","created_by":"daemon"}]}
{"id":"chordboy-9st.2","title":"Add tests for jazz voicing transforms (jazzVoicings.ts)","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-14T11:27:32.030768-08:00","updated_at":"2025-12-14T11:32:24.245676-08:00","closed_at":"2025-12-14T11:32:24.245676-08:00","dependencies":[{"issue_id":"chordboy-9st.2","depends_on_id":"chordboy-9st","type":"parent-child","created_at":"2025-12-14T11:27:32.031216-08:00","created_by":"daemon"}]}
{"id":"chordboy-9st.3","title":"Add tests for storage modules (presetStorage, patchStorage, sequencerStorage, dbUtils)","description":"Created comprehensive tests for all storage modules:\n- dbUtils.test.ts: 8 tests covering DB initialization, versioning, error handling\n- presetStorage.test.ts: 17 tests covering CRUD, serialization, legacy migration\n- patchStorage.test.ts: 13 tests covering save/load/clear, validation\n- sequencerStorage.test.ts: 16 tests covering state persistence, rapid saves\n\nAll 54 tests passing. Used fake-indexeddb for mocking.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-14T11:27:32.102808-08:00","updated_at":"2025-12-14T11:32:40.527862-08:00","closed_at":"2025-12-14T11:32:40.527862-08:00","dependencies":[{"issue_id":"chordboy-9st.3","depends_on_id":"chordboy-9st","type":"parent-child","created_at":"2025-12-14T11:27:32.103234-08:00","created_by":"daemon"}]}
{"id":"chordboy-9st.4","title":"Add tests for synth presets and note colors (synthPresets.ts, noteColors.ts)","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-14T11:27:32.173842-08:00","updated_at":"2025-12-14T11:32:16.255166-08:00","closed_at":"2025-12-14T11:32:16.255166-08:00","dependencies":[{"issue_id":"chordboy-9st.4","depends_on_id":"chordboy-9st","type":"parent-child","created_at":"2025-12-14T11:27:32.174269-08:00","created_by":"daemon"}]}
{"id":"chordboy-9st.5","title":"Add tests for keyboard/voicing hooks (useKeyboard, useVoicingKeyboard, useGraceNotes)","description":"","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-14T11:27:32.246884-08:00","updated_at":"2025-12-14T11:27:32.246884-08:00","dependencies":[{"issue_id":"chordboy-9st.5","depends_on_id":"chordboy-9st","type":"parent-child","created_at":"2025-12-14T11:27:32.247422-08:00","created_by":"daemon"}]}
{"id":"chordboy-9st.6","title":"Add integration tests for synth FX chains and chord building pipeline","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-14T11:27:32.319895-08:00","updated_at":"2025-12-14T11:33:59.289311-08:00","closed_at":"2025-12-14T11:33:59.289311-08:00","dependencies":[{"issue_id":"chordboy-9st.6","depends_on_id":"chordboy-9st","type":"parent-child","created_at":"2025-12-14T11:27:32.320439-08:00","created_by":"daemon"}]}
{"id":"chordboy-9tj","title":"Deep Code Quality Review - Complex Interaction Bugs","description":"Risk-based review of ChordBoy for bugs arising from complex system interactions: MIDI state, BLE connections, synth voice management, persistence, and event cleanup","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-14T11:10:16.934247-08:00","updated_at":"2025-12-14T11:12:52.817613-08:00","closed_at":"2025-12-14T11:12:52.817613-08:00"}
{"id":"chordboy-9tj.1","title":"Review MIDI note-on/off race conditions","description":"","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-14T11:10:17.00584-08:00","updated_at":"2025-12-14T11:12:41.806964-08:00","closed_at":"2025-12-14T11:12:41.806964-08:00","dependencies":[{"issue_id":"chordboy-9tj.1","depends_on_id":"chordboy-9tj","type":"parent-child","created_at":"2025-12-14T11:10:17.006264-08:00","created_by":"daemon"}]}
{"id":"chordboy-9tj.2","title":"Review BLE connection state management","description":"","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-14T11:10:17.07264-08:00","updated_at":"2025-12-14T11:12:43.246311-08:00","closed_at":"2025-12-14T11:12:43.246311-08:00","dependencies":[{"issue_id":"chordboy-9tj.2","depends_on_id":"chordboy-9tj","type":"parent-child","created_at":"2025-12-14T11:10:17.073073-08:00","created_by":"daemon"}]}
{"id":"chordboy-9tj.3","title":"Review synth voice stealing and release timing","description":"","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-14T11:10:17.139157-08:00","updated_at":"2025-12-14T11:12:44.768822-08:00","closed_at":"2025-12-14T11:12:44.768822-08:00","dependencies":[{"issue_id":"chordboy-9tj.3","depends_on_id":"chordboy-9tj","type":"parent-child","created_at":"2025-12-14T11:10:17.13958-08:00","created_by":"daemon"}]}
{"id":"chordboy-9tj.4","title":"Review preset persistence race conditions","description":"","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-14T11:10:17.207333-08:00","updated_at":"2025-12-14T11:12:46.300454-08:00","closed_at":"2025-12-14T11:12:46.300454-08:00","dependencies":[{"issue_id":"chordboy-9tj.4","depends_on_id":"chordboy-9tj","type":"parent-child","created_at":"2025-12-14T11:10:17.207767-08:00","created_by":"daemon"}]}
{"id":"chordboy-9tj.5","title":"Review event bus subscription cleanup","description":"","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-14T11:10:17.275309-08:00","updated_at":"2025-12-14T11:12:47.598799-08:00","closed_at":"2025-12-14T11:12:47.598799-08:00","dependencies":[{"issue_id":"chordboy-9tj.5","depends_on_id":"chordboy-9tj","type":"parent-child","created_at":"2025-12-14T11:10:17.275733-08:00","created_by":"daemon"}]}
{"id":"chordboy-pyo","title":"VoicePool.rebuild() disposes voices without waiting for release","description":"When switching patches, rebuild() calls releaseAll() then immediately dispose(). Voices in release phase get audio nodes disposed while still playing, causing abrupt cutoff and clicks. Fix: Add delay before disposal to allow release envelopes to complete.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-14T11:13:09.368716-08:00","updated_at":"2025-12-14T11:22:46.932873-08:00","closed_at":"2025-12-14T11:22:46.932873-08:00"}
{"id":"chordboy-qi8","title":"BLE state desync: React state can say connected when GATT is disconnected","description":"gattserverdisconnected listener is added AFTER setBleConnected(true). If device disconnects in that window, disconnect event fires before listener attached, leaving React state showing connected while GATT is disconnected. Fix: Attach listener BEFORE setting connected state.","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-14T11:13:01.578531-08:00","updated_at":"2025-12-14T11:22:43.926899-08:00","closed_at":"2025-12-14T11:22:43.926899-08:00"}
{"id":"chordboy-url","title":"Preset persistence: Concurrent saves can corrupt data","description":"savePresetsToStorage overwrites entire preset collection with store.put(). If two rapid saves occur within 100ms debounce, second save might use stale data. Fix: Use per-slot keys instead of overwriting entire collection.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-14T11:13:11.725291-08:00","updated_at":"2025-12-14T11:22:48.366175-08:00","closed_at":"2025-12-14T11:22:48.366175-08:00"}
{"id":"chordboy-zof","title":"PatchBuilder Code Review \u0026 Bug Fixes","description":"Comprehensive review of the new PatchBuilder synth patch creator component. Found 33 TypeScript errors across 8 files. Need to fix type errors, review component logic, and hunt down hard-to-track bugs.","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-14T10:54:20.286095-08:00","updated_at":"2025-12-14T10:59:00.298247-08:00","closed_at":"2025-12-14T10:59:00.298247-08:00"}
{"id":"chordboy-zof.1","title":"Fix customSynthEngine.ts type errors and review voice management","description":"","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-14T10:54:20.361924-08:00","updated_at":"2025-12-14T10:58:47.240852-08:00","closed_at":"2025-12-14T10:58:47.240852-08:00","dependencies":[{"issue_id":"chordboy-zof.1","depends_on_id":"chordboy-zof","type":"parent-child","created_at":"2025-12-14T10:54:20.36248-08:00","created_by":"daemon"}]}
{"id":"chordboy-zof.2","title":"Fix defaultPatch.ts missing syncRate and review factory patches","description":"Fixed missing syncRate in createPWMLeadPatch(). All factory patches reviewed and verified for consistency.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-14T10:54:20.430173-08:00","updated_at":"2025-12-14T10:58:48.000768-08:00","closed_at":"2025-12-14T10:58:48.000768-08:00","dependencies":[{"issue_id":"chordboy-zof.2","depends_on_id":"chordboy-zof","type":"parent-child","created_at":"2025-12-14T10:54:20.430669-08:00","created_by":"daemon"}]}
{"id":"chordboy-zof.3","title":"Fix patchValidation.ts type conversion and review validation logic","description":"Fixed type conversion error and enhanced validation logic with comprehensive range checks and modMatrix sanitization","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-14T10:54:20.498891-08:00","updated_at":"2025-12-14T10:58:49.576362-08:00","closed_at":"2025-12-14T10:58:49.576362-08:00","dependencies":[{"issue_id":"chordboy-zof.3","depends_on_id":"chordboy-zof","type":"parent-child","created_at":"2025-12-14T10:54:20.499367-08:00","created_by":"daemon"}]}
{"id":"chordboy-zof.4","title":"Fix effects.test.ts Phaser/Vibrato .start() errors","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-14T10:54:20.570734-08:00","updated_at":"2025-12-14T10:58:50.905818-08:00","closed_at":"2025-12-14T10:58:50.905818-08:00","dependencies":[{"issue_id":"chordboy-zof.4","depends_on_id":"chordboy-zof","type":"parent-child","created_at":"2025-12-14T10:54:20.571218-08:00","created_by":"daemon"}]}
{"id":"chordboy-zof.5","title":"Review PatchBuilder UI components for bugs","description":"Completed review. Fixed unused Tone import in PatchBuilderModal.tsx. All other components (OscillatorSection, FilterSection, EffectsSection) are clean - no bugs found.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-14T10:54:20.640505-08:00","updated_at":"2025-12-14T10:58:52.140109-08:00","closed_at":"2025-12-14T10:58:52.140109-08:00","dependencies":[{"issue_id":"chordboy-zof.5","depends_on_id":"chordboy-zof","type":"parent-child","created_at":"2025-12-14T10:54:20.64102-08:00","created_by":"daemon"}]}
{"id":"chordboy-zof.6","title":"Review modulation and control components","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-14T10:54:20.712167-08:00","updated_at":"2025-12-14T10:58:53.455482-08:00","closed_at":"2025-12-14T10:58:53.455482-08:00","dependencies":[{"issue_id":"chordboy-zof.6","depends_on_id":"chordboy-zof","type":"parent-child","created_at":"2025-12-14T10:54:20.71265-08:00","created_by":"daemon"}]}
